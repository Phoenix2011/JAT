<!--register.wxml-->
<view class="container">
  <view class="register-header">
    <image class="logo" src="/static/images/logo.png" mode="aspectFit"></image>
    <text class="title">注册账号</text>
    <text class="subtitle">填写信息完成注册</text>
  </view>
  
  <view class="register-form">
    <view class="form-group">
      <view class="form-item">
        <text class="form-label">手机号码</text>
        <input class="form-input" type="number" placeholder="请输入手机号码" maxlength="11" bindinput="onPhoneInput" value="{{phone}}" />
      </view>
      
      <view class="form-item verification-code">
        <text class="form-label">验证码</text>
        <input class="form-input" type="number" placeholder="请输入验证码" maxlength="6" bindinput="onCodeInput" value="{{code}}" />
        <button class="code-btn {{codeSent ? 'disabled' : ''}}" bindtap="sendVerificationCode" disabled="{{codeSent}}">
          {{codeSent ? countDown + 's' : '获取验证码'}}
        </button>
      </view>
      
      <view class="form-item">
        <text class="form-label">姓名</text>
        <input class="form-input" type="text" placeholder="请输入您的姓名" bindinput="onNameInput" value="{{name}}" />
      </view>
      
      <view class="form-item">
        <text class="form-label">性别</text>
        <radio-group class="radio-group" bindchange="onGenderChange">
          <label class="radio">
            <radio value="1" checked="{{gender === '1'}}" color="#3A7734" />
            <text>男</text>
          </label>
          <label class="radio">
            <radio value="2" checked="{{gender === '2'}}" color="#3A7734" />
            <text>女</text>
          </label>
        </radio-group>
      </view>
      
      <view class="form-item" wx:if="{{showInviteCode}}">
        <text class="form-label">邀请码 (选填)</text>
        <input class="form-input" type="text" placeholder="请输入邀请码" bindinput="onInviteCodeInput" value="{{inviteCode}}" />
      </view>
    </view>
    
    <button class="btn btn-primary btn-block register-btn" bindtap="register" disabled="{{!phone || !code || !name || !gender}}">注册</button>
    
    <view class="agreement">
      <checkbox-group bindchange="onAgreementChange">
        <checkbox value="agree" checked="{{agreed}}" color="#3A7734" />
        <text class="agreement-text">我已阅读并同意</text>
        <text class="agreement-link" bindtap="showUserAgreement">《用户协议》</text>
        <text class="agreement-text">和</text>
        <text class="agreement-link" bindtap="showPrivacyPolicy">《隐私政策》</text>
      </checkbox-group>
    </view>
  </view>
  
  <view class="register-footer">
    <view class="login-link">
      <text>已有账号？</text>
      <text class="link" bindtap="navigateToLogin">立即登录</text>
    </view>
  </view>
</view>
