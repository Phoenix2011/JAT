<!--login.wxml-->
<view class="container">
  <view class="login-header">
    <image class="logo" src="/static/images/logo.png" mode="aspectFit"></image>
    <text class="title">推拿艾灸馆</text>
    <text class="subtitle">专业的推拿艾灸服务</text>
  </view>
  
  <view class="login-form">
    <view class="form-group">
      <view class="form-item">
        <text class="form-label">手机号码</text>
        <input class="form-input" type="number" placeholder="请输入手机号码" maxlength="11" bindinput="onPhoneInput" value="{{phone}}" />
      </view>
      
      <view class="form-item verification-code">
        <text class="form-label">验证码</text>
        <input class="form-input" type="number" placeholder="请输入验证码" maxlength="6" bindinput="onCodeInput" value="{{code}}" />
        <button class="code-btn {{codeSent ? 'disabled' : ''}}" bindtap="sendVerificationCode" disabled="{{codeSent}}">
          {{codeSent ? countDown + 's' : '获取验证码'}}
        </button>
      </view>
    </view>
    
    <button class="btn btn-primary btn-block login-btn" bindtap="login" disabled="{{!phone || !code}}">登录</button>
    
    <view class="agreement">
      <checkbox-group bindchange="onAgreementChange">
        <checkbox value="agree" checked="{{agreed}}" color="#3A7734" />
        <text class="agreement-text">我已阅读并同意</text>
        <text class="agreement-link" bindtap="showUserAgreement">《用户协议》</text>
        <text class="agreement-text">和</text>
        <text class="agreement-link" bindtap="showPrivacyPolicy">《隐私政策》</text>
      </checkbox-group>
    </view>
  </view>
  
  <view class="login-footer">
    <view class="divider">
      <text class="divider-text">其他登录方式</text>
    </view>
    
    <view class="other-login">
      <button class="wechat-login-btn" open-type="getUserInfo" bindgetuserinfo="wechatLogin">
        <image class="wechat-icon" src="/static/images/icons/wechat.png" mode="aspectFit"></image>
        <text>微信登录</text>
      </button>
    </view>
    
    <view class="register-link">
      <text>还没有账号？</text>
      <text class="link" bindtap="navigateToRegister">立即注册</text>
    </view>
  </view>
</view>
